.item-form {
  font-family: $font-primary;
}

.window-app.lore .window-content {
  display: flex;
  flex-direction: column;
}

.sheet-header {
  flex: 0 auto;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-start;
  margin-bottom: 10px;

  .profile-img {
    flex: 0 0 100px;
    height: 100px;
    margin-right: 10px;
  }

  .header-fields {
    flex: 1;
    .document-name {
      display: flex;
      align-items: flex-start;
      gap: 8px;

      .name-stack {
        display: flex;
        flex-direction: column;
        flex: 1 1 auto;

        .resource-label {
          margin-bottom: 2px;
        }

        input[name='name'] {
          flex: 1 1 auto;
        }
      }

      .level-container {
        flex: 0 0 auto;
        width: 40px;
      }
    }
  }
}

.sheet-tabs {
  flex: 0;
}

.sheet-body {
  flex: 1 1 auto;
  min-height: 0; // critical to allow inner tabs to scroll
  display: flex;
  flex-direction: column;
}

.sheet-body .tab {
  flex: 1 1 auto;
  min-height: 0;
}

.sheet-body .tab .editor {
  height: 100%;
}

/* Add a consistent right-side gutter to all tabs */
.sheet-body .tab {
  padding-right: 8px;
  scrollbar-gutter: stable;
}

.tab.biography {
  flex: 1;
  margin-top: 8px;
  /* Allow scrolling when biography content exceeds available space */
  overflow-y: auto;
  /* Keep a little space between content and the right scrollbar */
  padding-right: 8px;
  /* Reserve space to prevent layout shift when scrollbar appears (where supported) */
  scrollbar-gutter: stable;
  min-height: 0; /* ensure flex child can shrink to enable overflow */

  .editor {
    height: 100%;
  }
}

.tox {
  .tox-editor-container {
    background: $c-white;
  }

  .tox-edit-area {
    padding: 0 8px;
  }
}