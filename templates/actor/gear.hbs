{{! Gear Tab }}
<section class='tab gear {{tab.cssClass}}' data-group='primary' data-tab='gear'>
  {{!-- Sub-tabs navigation for Gear --}}
  <nav class='tabs sub-tabs' data-group='gear-sub'>
    <a class='item active' data-tab='list'>List</a>
    <a class='item' data-tab='paper-doll'>Paper Doll</a>
  </nav>

  {{!-- LIST SUB-TAB --}}
  <section class='tab list active' data-group='gear-sub' data-tab='list'>
    {{!-- Weapons Section --}}
    <ol class='items-list items-weapons'>
      <li class='item flexrow items-header' data-gear-type='weapon'>
        <div class='item-name'>{{localize 'TYPES.Item.weapon'}}</div>
        <div class='item-formula'>Roll</div>
        <div class='item-mod'>Mod (Attr)</div>
        <div class='item-range'>Range</div>
      </li>
      {{#each weapons as |item id|}}
        <li class='item flexrow' data-item-id='{{item.id}}' data-drag='true' data-document-class='Item'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item' data-action='roll'>
                <img src='{{item.img}}' title='{{item.name}}' width='24' height='24' />
              </a>
            </div>
            <div>{{item.name}}</div>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          {{!-- Modifier and attribute source --}}
          {{#if (eq item.system.weaponType 'ranged')}}
            {{!-- Ranged uses Reflex (ref) --}}
            <div class='item-mod item-prop'>
              {{@root.actor.system.attributes.ref.mod}}
              ({{localize (lookup @root.config.attributeAbbreviations 'ref')}})
            </div>
            {{!-- Range bands for ranged --}}
            <div class='item-range item-prop'>
              {{#with item.system.range as |r|}}
                {{r.short}}/{{r.medium}}/{{r.long}} {{#if r.units}}{{r.units}}{{/if}}
              {{/with}}
            </div>
          {{else}}
            {{!-- Melee uses Might (mig) --}}
            <div class='item-mod item-prop'>
              {{@root.actor.system.attributes.mig.mod}}
              ({{localize (lookup @root.config.attributeAbbreviations 'mig')}})
            </div>
            <div class='item-range item-prop'>
              {{#if item.system.range.reach}}
                Reach {{item.system.range.reach}} {{item.system.range.units}}
              {{/if}}
            </div>
          {{/if}}
        </li>
      {{/each}}
    </ol>

    {{!-- Misc Gear Section --}}
    <ol class='items-list'>
      <li class='item flexrow items-header' data-gear-type='gear'>
        <div class='item-name'>{{localize 'TYPES.Item.gear'}}</div>
        <div class='item-formula'></div>
      </li>
      {{#each gear as |item id|}}
        <li class='item flexrow' data-item-id='{{item.id}}' data-drag='true' data-document-class='Item'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='item-control'>
                <img src='{{item.img}}' title='{{item.name}}' width='24' height='24' />
              </a>
            </div>
            <div>{{item.name}}</div>
          </div>
        </li>
      {{/each}}
    </ol>
  </section>

  {{!-- PAPER DOLL SUB-TAB --}}
  <section class='tab paper-doll' data-group='gear-sub' data-tab='paper-doll'>
    <div class='paper-doll-placeholder' style='opacity:0.7; text-align:center; padding: 1rem;'>
      Paper Doll coming soon
    </div>
  </section>

</section>